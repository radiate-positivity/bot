from aiogram import Router, F
from aiogram.types import Message, CallbackQuery, InlineKeyboardButton
from aiogram.utils.keyboard import InlineKeyboardBuilder

router = Router()

def get_services_keyboard() -> InlineKeyboardBuilder:
    builder = InlineKeyboardBuilder()
    
    builder.row(
        InlineKeyboardButton(
            text="üìã EB-1A –ø–∞–∫–µ—Ç",
            callback_data="service_detail:eb1a"
        ),
        InlineKeyboardButton(
            text="üé≠ O-1 –ø–∞–∫–µ—Ç",
            callback_data="service_detail:o1"
        )
    )
    
    builder.row(
        InlineKeyboardButton(
            text="üî¨ NIW –ø–∞–∫–µ—Ç",
            callback_data="service_detail:niw"
        ),
        InlineKeyboardButton(
            text="üîÑ –ö–æ–º–±–æ-–ø–∞–∫–µ—Ç",
            callback_data="service_detail:combo"
        )
    )
    
    builder.row(
        InlineKeyboardButton(
            text="üíº –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏",
            callback_data="service_detail:consultation"
        )
    )
    
    builder.row(
        InlineKeyboardButton(
            text="üìû –°–≤—è–∑–∞—Ç—å—Å—è –¥–ª—è –∑–∞–∫–∞–∑–∞",
            callback_data="service_contact"
        )
    )
    
    builder.row(
        InlineKeyboardButton(
            text="üîô –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é",
            callback_data="service_back_to_menu"
        )
    )
    
    return builder

@router.message(F.text == "üíº –£—Å–ª—É–≥–∏ –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å")
async def services_handler(message: Message):
    services_text = """
üíº <b>–£—Å–ª—É–≥–∏ –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å</b>

–ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –ø–æ–ª–Ω—ã–π —Å–ø–µ–∫—Ç—Ä —É—Å–ª—É–≥ –ø–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –≤–∏–∑:

<b>–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞–∫–µ—Ç—ã:</b>

üìã <b>EB-1A (Extraordinary Ability)</b>
‚Ä¢ –ü–æ–ª–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–µ—Ç–∏—Ü–∏–∏
‚Ä¢ –°–±–æ—Ä –∏ –∞–Ω–∞–ª–∏–∑ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤
‚Ä¢ –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ø–æ PR-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
‚Ä¢ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ PR-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏ –¥–æ—Ä–æ–∂–Ω–æ–π –∫–∞—Ä—Ç—ã
<b>–°—Ç–æ–∏–º–æ—Å—Ç—å: –æ—Ç $12 000</b>

üé≠ <b>O-1 (Extraordinary Ability)</b>
‚Ä¢ –ü–æ–ª–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–µ—Ç–∏—Ü–∏–∏
‚Ä¢ –°–±–æ—Ä –∏ –∞–Ω–∞–ª–∏–∑ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤
‚Ä¢ –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ø–æ PR-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
‚Ä¢ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ PR-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏ –¥–æ—Ä–æ–∂–Ω–æ–π –∫–∞—Ä—Ç—ã
<b>–°—Ç–æ–∏–º–æ—Å—Ç—å: –æ—Ç $10 000</b>

üî¨ <b>EB-2 NIW (National Interest Waiver)</b>
‚Ä¢ –ü–æ–ª–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–µ—Ç–∏—Ü–∏–∏
‚Ä¢ –°–±–æ—Ä –∏ –∞–Ω–∞–ª–∏–∑ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤
‚Ä¢ –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ø–æ PR-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
‚Ä¢ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ PR-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏ –¥–æ—Ä–æ–∂–Ω–æ–π –∫–∞—Ä—Ç—ã
<b>–°—Ç–æ–∏–º–æ—Å—Ç—å: –æ—Ç $12 000</b>

üîÑ <b>–ö–æ–º–±–æ-–ø–∞–∫–µ—Ç (EB-1A + EB-2 NIW)</b>
‚Ä¢ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–≤—É—Ö –ø–µ—Ç–∏—Ü–∏–π
‚Ä¢ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
‚Ä¢ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ —à–∞–Ω—Å—ã –Ω–∞ —É—Å–ø–µ—Ö
<b>–°—Ç–æ–∏–º–æ—Å—Ç—å: –æ—Ç $18 000</b>

–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ PR-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∫–µ–π—Å–∞
‚Ä¢ –ü–æ–ª–Ω–æ–µ PR-—Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ 
‚Ä¢ –ü–æ–¥–±–æ—Ä —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –°–ú–ò; 
‚Ä¢ –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —Ä–µ–¥–∞–∫—Ü–∏—è–º–∏ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞–º–∏ –∫–æ–Ω–∫—É—Ä—Å–æ–≤; 
‚Ä¢ –ü—Ä–æ—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–º –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–π, –ø–æ–¥–±–æ—Ä –∏–Ω—Ñ–æ–ø–æ–≤–æ–¥–æ–≤, –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞—à–∏—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –≤ —Ä–∞–º–∫–∞—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏; 
‚Ä¢ –ü–æ–∏—Å–∫ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –Ω–∞–≥—Ä–∞–¥ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —Å—É–¥–µ–π—Å—Ç–≤–∞. 
‚Ä¢ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –¥–æ—Ä–æ–∂–Ω–æ–π –∫–∞—Ä—Ç—ã 
<b>–°—Ç–æ–∏–º–æ—Å—Ç—å:  $2 500</b>

<b>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏:</b>
‚Ä¢ –ü–µ—Ä–≤–∏—á–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è (15 –º–∏–Ω) - <b>–ë–µ—Å–ø–ª–∞—Ç–Ω–æ</b>
‚Ä¢ –î–µ—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è (60 –º–∏–Ω) - <b>$250</b>
‚Ä¢ –ü–µ—Ä–µ–≤–æ–¥ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ - <b>–æ—Ç $75/—Å—Ç—Ä–∞–Ω–∏—Ü–∞</b>

<b>–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å:</b>
‚úÖ –ê–Ω–∞–ª–∏–∑ –≤–∞—à–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è
‚úÖ –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚úÖ –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∫–∏
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –≤–∏–∑—ã

–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–∫–µ—Ç –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:
"""
    
    keyboard_builder = get_services_keyboard()
    
    await message.answer(
        text=services_text,
        reply_markup=keyboard_builder.as_markup(),
        parse_mode="HTML"
    )

@router.callback_query(F.data.startswith("service_detail:"))
async def service_detail(callback: CallbackQuery):
    service_type = callback.data.split(":")[1]
    
    services = {
        "eb1a": {
            "title": "üìã <b>–ü–∞–∫–µ—Ç EB-1A</b>",
            "description": """
<b>–î–ª—è –∫–æ–≥–æ:</b> –£—á–µ–Ω—ã–µ, –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–∏, –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä–∞, –∞—Ä—Ç–∏—Å—Ç—ã, —Å–ø–æ—Ä—Ç—Å–º–µ–Ω—ã, –±–∏–∑–Ω–µ—Å–º–µ–Ω—ã —Å –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è–º–∏.

<b>–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç:</b>
1. <b>–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ—Ñ–∏–ª—è</b> (–æ—Ü–µ–Ω–∫–∞ –ø–æ 10 –∫—Ä–∏—Ç–µ—Ä–∏—è–º)
2. <b>–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</b> (—Ñ–æ–∫—É—Å –Ω–∞ —Å–∏–ª—å–Ω—ã—Ö —Å—Ç–æ—Ä–æ–Ω–∞—Ö)
3. <b>–°–±–æ—Ä –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤</b>:
   ‚Ä¢ –ü—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ —Ü–∏—Ç–∞—Ç—ã
   ‚Ä¢ –ù–∞–≥—Ä–∞–¥—ã –∏ –ø—Ä–µ–º–∏–∏
   ‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∏—Å—å–º–∞
   ‚Ä¢ –ú–µ–¥–∏–∞-—É–ø–æ–º–∏–Ω–∞–Ω–∏—è
4. <b>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</b>:
   ‚Ä¢ –§–æ—Ä–º–∞ I-140
   ‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∏—Å—å–º–∞ (5-8 —à—Ç)
   ‚Ä¢ –≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–µ –∑–∞–∫–ª—é—á–µ–Ω–∏—è
   ‚Ä¢ –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
5. <b>–ü–æ–¥–¥–µ—Ä–∂–∫–∞</b>:
   ‚Ä¢ –û—Ç–≤–µ—Ç—ã –Ω–∞ RFE (–∑–∞–ø—Ä–æ—Å—ã –¥–æ–ø. –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤)
   ‚Ä¢ –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö
   ‚Ä¢ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∏–Ω—Ç–µ—Ä–≤—å—é

<b>–°—Ä–æ–∫–∏:</b> 2-4 –º–µ—Å—è—Ü–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏

<b>–°—Ç–æ–∏–º–æ—Å—Ç—å:</b>
‚Ä¢ –ë–∞–∑–æ–≤—ã–π –ø–∞–∫–µ—Ç: <b>$7,500</b>
‚Ä¢ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π (—Å premium processing): <b>$10,000</b>
‚Ä¢ –ü—Ä–µ–º–∏—É–º (EB-1A + NIW): <b>$12,000</b>

<b>–ì–∞—Ä–∞–Ω—Ç–∏–∏:</b> –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø—Ä–∞–≤–∫–∏ –¥–æ –ø–æ–¥–∞—á–∏, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –≤–∏–∑—ã.
"""
        },
        "o1": {
            "title": "üé≠ <b>–ü–∞–∫–µ—Ç O-1</b>",
            "description": """
<b>–î–ª—è –∫–æ–≥–æ:</b> –ê—Ä—Ç–∏—Å—Ç—ã, –º—É–∑—ã–∫–∞–Ω—Ç—ã, –∞–∫—Ç–µ—Ä—ã, —Ä–µ–∂–∏—Å—Å–µ—Ä—ã, —Å–ø–æ—Ä—Ç—Å–º–µ–Ω—ã, —É—á–µ–Ω—ã–µ —Å –≤—ã–¥–∞—é—â–∏–º–∏—Å—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è–º–∏.

<b>–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç:</b>
1. <b>–û—Ü–µ–Ω–∫–∞ —à–∞–Ω—Å–æ–≤</b> –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º O-1
2. <b>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞</b>:
   ‚Ä¢ –§–æ—Ä–º–∞ I-129
   ‚Ä¢ –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–æ–Ω–Ω–æ–µ –ø–∏—Å—å–º–æ
   ‚Ä¢ –î–æ–≥–æ–≤–æ—Ä —Å —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª–µ–º (–ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏)
   ‚Ä¢ –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
3. <b>–°–±–æ—Ä –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤</b>:
   ‚Ä¢ –ü—Ä–∏–∑—ã –∏ –Ω–∞–≥—Ä–∞–¥—ã
   ‚Ä¢ –í—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è –Ω–∞ –∑–Ω–∞—á–∏–º—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è—Ö
   ‚Ä¢ –ü—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ –°–ú–ò
   ‚Ä¢ –í—ã—Å–æ–∫–∞—è –∑–∞—Ä–ø–ª–∞—Ç–∞
4. <b>–°–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ</b>:
   ‚Ä¢ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —Å —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª–µ–º
   ‚Ä¢ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∏–Ω—Ç–µ—Ä–≤—å—é –≤ –∫–æ–Ω—Å—É–ª—å—Å—Ç–≤–µ
   ‚Ä¢ –ü–æ–º–æ—â—å —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º –≤–∏–∑—ã O-2 –¥–ª—è —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—é—â–∏—Ö

<b>–°—Ä–æ–∫–∏:</b> 1-2 –º–µ—Å—è—Ü–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏

<b>–°—Ç–æ–∏–º–æ—Å—Ç—å:</b>
‚Ä¢ –ë–∞–∑–æ–≤—ã–π –ø–∞–∫–µ—Ç: <b>$5,500</b>
‚Ä¢ –° –ø—Ä–µ–º–∏—É–º –æ–±—Ä–∞–±–æ—Ç–∫–æ–π: <b>$8,000</b>

<b>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</b> –ë—ã—Å—Ç—Ä–µ–µ —á–µ–º EB-1A, —Ç—Ä–µ–±—É–µ—Ç —Å–ø–æ–Ω—Å–æ—Ä—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è.
"""
        },
        "niw": {
            "title": "üî¨ <b>–ü–∞–∫–µ—Ç EB-2 NIW</b>",
            "description": """
<b>–î–ª—è –∫–æ–≥–æ:</b> –£—á–µ–Ω—ã–µ, –≤—Ä–∞—á–∏, IT-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã, –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–∏, —á—å—è —Ä–∞–±–æ—Ç–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–µ—Å –¥–ª—è –°–®–ê.

<b>–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç:</b>
1. <b>–ê–Ω–∞–ª–∏–∑ –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º Dhanasar</b>:
   ‚Ä¢ –°—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–∞—Å—à—Ç–∞–±
   ‚Ä¢ –•–æ—Ä–æ—à–∞—è –ø–æ–∑–∏—Ü–∏—è –¥–ª—è –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã
   ‚Ä¢ –û—Ç–∫–∞–∑ –æ—Ç labor certification –≤ –∏–Ω—Ç–µ—Ä–µ—Å–∞—Ö –°–®–ê
2. <b>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω–æ–π –±–∞–∑—ã</b>:
   ‚Ä¢ –ü—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ –ø–∞—Ç–µ–Ω—Ç—ã
   ‚Ä¢ –¶–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∏–Ω–¥–µ–∫—Å –•–∏—Ä—à–∞
   ‚Ä¢ –£—á–∞—Å—Ç–∏–µ –≤ —Ä–µ—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏–∏
   ‚Ä¢ –ì—Ä–∞–Ω—Ç—ã –∏ —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π
3. <b>–≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–µ –∑–∞–∫–ª—é—á–µ–Ω–∏—è</b> –æ—Ç –ª–∏–¥–µ—Ä–æ–≤ –≤ –æ–±–ª–∞—Å—Ç–∏
4. <b>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–≥–æ –ø–ª–∞–Ω–∞</b> (–¥–ª—è —É—á–µ–Ω—ã—Ö)
5. <b>–°–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ</b> –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –≥—Ä–∏–Ω-–∫–∞—Ä—Ç—ã

<b>–°—Ä–æ–∫–∏:</b> 3-5 –º–µ—Å—è—Ü–µ–≤ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏

<b>–°—Ç–æ–∏–º–æ—Å—Ç—å:</b>
‚Ä¢ –ë–∞–∑–æ–≤—ã–π –ø–∞–∫–µ—Ç: <b>$6,500</b>
‚Ä¢ –° –ø—Ä–µ–º–∏—É–º –æ–±—Ä–∞–±–æ—Ç–∫–æ–π: <b>$9,000</b>

<b>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</b> –ù–µ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –∏–ª–∏ —Å–ø–æ–Ω—Å–æ—Ä—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è.
"""
        },
        "combo": {
            "title": "üîÑ <b>–ö–æ–º–±–æ-–ø–∞–∫–µ—Ç (EB-1A + NIW)</b>",
            "description": """
<b>–î–ª—è –∫–æ–≥–æ:</b> –ö–∞–Ω–¥–∏–¥–∞—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç—è—Ç –º–∞–∫—Å–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —à–∞–Ω—Å—ã –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –≥—Ä–∏–Ω-–∫–∞—Ä—Ç—ã.

<b>–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç:</b>
1. <b>–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</b> –¥–ª—è –¥–≤—É—Ö –ø–µ—Ç–∏—Ü–∏–π
2. <b>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–≤—É—Ö –ø–∞–∫–µ—Ç–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</b>:
   ‚Ä¢ EB-1A: –∞–∫—Ü–µ–Ω—Ç –Ω–∞ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
   ‚Ä¢ NIW: –∞–∫—Ü–µ–Ω—Ç –Ω–∞ –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–µ—Å
3. <b>–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤</b>:
   ‚Ä¢ –ï–¥–∏–Ω–∞—è –±–∞–∑–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∏—Å–µ–º
   ‚Ä¢ –°–∫–æ–æ—Ä–¥–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–µ –∑–∞–∫–ª—é—á–µ–Ω–∏—è
   ‚Ä¢ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ
4. <b>–¢–∞–∫—Ç–∏–∫–∞ –ø–æ–¥–∞—á–∏</b>:
   ‚Ä¢ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∏–ª–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ø–æ–¥–∞—á–∞
   ‚Ä¢ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –æ–∂–∏–¥–∞–Ω–∏—è
   ‚Ä¢ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ RFE

<b>–°—Ä–æ–∫–∏:</b> 4-6 –º–µ—Å—è—Ü–µ–≤ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏

<b>–°—Ç–æ–∏–º–æ—Å—Ç—å:</b>
‚Ä¢ –ö–æ–º–±–æ-–ø–∞–∫–µ—Ç: <b>$12,000</b> (—ç–∫–æ–Ω–æ–º–∏—è $2,000+)
‚Ä¢ –° –ø—Ä–µ–º–∏—É–º –æ–±—Ä–∞–±–æ—Ç–∫–æ–π: <b>$15,000</b>

<b>–í—ã–≥–æ–¥–∞:</b> –£–¥–≤–∞–∏–≤–∞–µ—Ç —à–∞–Ω—Å—ã –Ω–∞ —É—Å–ø–µ—Ö, —ç–∫–æ–Ω–æ–º–∏—Ç –≤—Ä–µ–º—è –∏ –¥–µ–Ω—å–≥–∏ –≤ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–µ.
"""
        },
        "consultation": {
            "title": "üíº <b>–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–æ–Ω–Ω—ã–µ —É—Å–ª—É–≥–∏</b>",
            "description": """
<b>–ü–µ—Ä–≤–∏—á–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è (30 –º–∏–Ω—É—Ç) - –ë–µ—Å–ø–ª–∞—Ç–Ω–æ</b>
‚Ä¢ –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è
‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
‚Ä¢ –û—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
‚Ä¢ –ü–ª–∞–Ω –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π

<b>–î–µ—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è (60 –º–∏–Ω—É—Ç) - $150</b>
‚Ä¢ –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚Ä¢ –ê–Ω–∞–ª–∏–∑ –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º –≤–∏–∑
‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É—Å–∏–ª–µ–Ω–∏—é –ø—Ä–æ—Ñ–∏–ª—è
‚Ä¢ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
‚Ä¢ –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã

<b>–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è + —ç–∫—Å–ø—Ä–µ—Å—Å-–∞–Ω–∞–ª–∏–∑ (90 –º–∏–Ω—É—Ç) - $300</b>
‚Ä¢ –í—Å–µ –∏–∑ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
‚Ä¢ –≠–∫—Å–ø—Ä–µ—Å—Å-–∞–Ω–∞–ª–∏–∑ 10+ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚Ä¢ –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —à–∞–Ω—Å–æ–≤
‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω–æ–π –±–∞–∑–µ

<b>–ö–∞–∫ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è:</b>
1. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–∞–∫—Ç—ã
3. –£–∫–∞–∂–∏—Ç–µ —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è (EST)
4. –ü—Ä–∏–ª–æ–∂–∏—Ç–µ –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏

<b>–ü–æ—Å–ª–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏:</b> –í—ã –ø–æ–ª—É—á–∏—Ç–µ –ø–∏—Å—å–º–µ–Ω–Ω–æ–µ —Ä–µ–∑—é–º–µ —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏.
"""
        }
    }
    
    service_data = services.get(service_type, {})
    
    if not service_data:
        await callback.answer("–£—Å–ª—É–≥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞")
        return
    
    text = f"{service_data['title']}\n\n{service_data['description']}"
    
    builder = InlineKeyboardBuilder()
    
    builder.row(
        InlineKeyboardButton(
            text="üìû –ó–∞–∫–∞–∑–∞—Ç—å —ç—Ç—É —É—Å–ª—É–≥—É",
            callback_data="service_contact"
        )
    )
    
    builder.row(
        InlineKeyboardButton(
            text="üîô –ù–∞–∑–∞–¥ –∫ —É—Å–ª—É–≥–∞–º",
            callback_data="service_back_to_list"
        )
    )
    
    await callback.message.edit_text(
        text=text,
        reply_markup=builder.as_markup(),
        parse_mode="HTML"
    )
    await callback.answer()

@router.callback_query(F.data == "service_back_to_list")
async def back_to_services_list(callback: CallbackQuery):
    await services_handler(callback.message)
    await callback.answer()

@router.callback_query(F.data == "service_contact")
async def service_contact(callback: CallbackQuery):
    contact_text = """
üìû <b>–°–≤—è–∑—å –¥–ª—è –∑–∞–∫–∞–∑–∞ —É—Å–ª—É–≥–∏</b>

–î–ª—è –∑–∞–∫–∞–∑–∞ —É—Å–ª—É–≥–∏ –∏–ª–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:

<b>–°–ø–æ—Å–æ–±—ã —Å–≤—è–∑–∏:</b>
‚Ä¢ Telegram: @OlgaMar_pr
‚Ä¢ Email: tvolga074@gmail.com

<b>–ß—Ç–æ —É–∫–∞–∑–∞—Ç—å –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏:</b>
1. –ò–Ω—Ç–µ—Ä–µ—Å—É—é—â–∞—è —É—Å–ª—É–≥–∞ (EB-1A, O-1, NIW –∏ —Ç.–¥.)
2. –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–∞—à–µ–π —Å–∏—Ç—É–∞—Ü–∏–∏
3. –ñ–µ–ª–∞–µ–º—ã–µ —Å—Ä–æ–∫–∏
4. –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

<b>–ü—Ä–æ—Ü–µ—Å—Å –∑–∞–∫–∞–∑–∞:</b>
1. –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
2. –û—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏ —Å—Ä–æ–∫–æ–≤
3. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–∞
4. –ê–≤–∞–Ω—Å 50%
5. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
6. –§–∏–Ω–∞–ª—å–Ω–∞—è –æ–ø–ª–∞—Ç–∞
7. –ü–æ–¥–∞—á–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

–ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤.
"""
    
    builder = InlineKeyboardBuilder()
    
    builder.row(
        InlineKeyboardButton(
            text="üí¨ –ù–∞–ø–∏—Å–∞—Ç—å –≤ Telegram",
            url="https://t.me/OlgaMar_pr"
        )
    )
    
    builder.row(
        InlineKeyboardButton(
            text="üîô –ù–∞–∑–∞–¥ –∫ —É—Å–ª—É–≥–∞–º",
            callback_data="service_back_to_list"
        )
    )
    
    await callback.message.edit_text(
        text=contact_text,
        reply_markup=builder.as_markup(),
        parse_mode="HTML"
    )
    await callback.answer()

@router.callback_query(F.data == "service_back_to_menu")
async def service_back_to_menu(callback: CallbackQuery):
    from handlers.start import get_main_keyboard
    
    welcome_text = """
ü§ñ <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</b>

–Ø ‚Äî –±–æ—Ç-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –∫–æ–º–ø–∞–Ω–∏–∏ <b>VisaSuccess</b>. 
–ü–æ–º–æ–≥—É –≤–∞–º —Å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–æ–π —à–∞–Ω—Å–æ–≤ –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –≤–∏–∑.

–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –≤–∞—Å —Ä–∞–∑–¥–µ–ªüëá
    """
    
    await callback.message.answer(
        text=welcome_text,
        reply_markup=get_main_keyboard(),
        parse_mode="HTML"
    )
    
    try:
        await callback.message.delete()
    except:
        pass
    

    await callback.answer()
